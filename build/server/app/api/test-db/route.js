(()=>{var e={};e.id=681,e.ids=[681],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4198:()=>{},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5518:(e,o,r)=>{"use strict";r.d(o,{A:()=>a});var t=r(6037),s=r.n(t);let n=new t.Schema({name:{type:String,required:[!0,"Name is required"],trim:!0},email:{type:String,required:[!0,"Email is required"],trim:!0,lowercase:!0,match:[/^\S+@\S+\.\S+$/,"Please enter a valid email address"]},company:{type:String,required:[!0,"Company is required"],trim:!0},message:{type:String,required:[!0,"Message is required"],trim:!0},createdAt:{type:Date,default:Date.now}}),a=s().models.Contact||s().model("Contact",n)},5742:()=>{},6037:e=>{"use strict";e.exports=require("mongoose")},8769:(e,o,r)=>{"use strict";r.d(o,{A:()=>a});var t=r(6037),s=r.n(t);let n=process.env.MONGODB_URI||"mongodb://localhost:27017/cortex";if(!n)throw Error("Please define the MONGODB_URI environment variable");global.mongooseGlobal||(global.mongooseGlobal={});let a=async function(){if(global.mongooseGlobal.mongoose)return global.mongooseGlobal.mongoose;try{let e=await s().connect(n,{bufferCommands:!1});return global.mongooseGlobal.mongoose=e,global.mongooseGlobal.conn={isConnected:1},e}catch(e){throw console.error("MongoDB connection error:",e),e}}},9037:(e,o,r)=>{"use strict";r.r(o),r.d(o,{patchFetch:()=>v,routeModule:()=>d,serverHooks:()=>m,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>g});var t={};r.r(t),r.d(t,{GET:()=>u});var s=r(9802),n=r(7043),a=r(6802),i=r(8395),c=r(8769),l=r(5518);async function u(e){try{console.log("Testing MongoDB connection..."),console.log("MongoDB URI:",process.env.MONGODB_URI?"URI exists":"URI missing");let e=await (0,c.A)();console.log("MongoDB connected successfully");let o=await l.A.countDocuments();return console.log(`Found ${o} documents in Contact collection`),i.NextResponse.json({success:!0,message:"MongoDB connection successful",count:o,mongooseConnected:!!e,env:{hasMongoUri:!!process.env.MONGODB_URI,nodeEnv:"production"}})}catch(e){return console.error("MongoDB connection error:",e),i.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error",stack:e instanceof Error?e.stack:void 0},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/test-db/route",pathname:"/api/test-db",filename:"route",bundlePath:"app/api/test-db/route"},resolvedPagePath:"/Users/myspace/Downloads/Cortex- website/src/app/api/test-db/route.ts",nextConfigOutput:"",userland:t}),{workAsyncStorage:p,workUnitAsyncStorage:g,serverHooks:m}=d;function v(){return(0,a.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:g})}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var o=require("../../../webpack-runtime.js");o.C(e);var r=e=>o(o.s=e),t=o.X(0,[627,108],()=>r(9037));module.exports=t})();